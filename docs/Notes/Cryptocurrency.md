# 加密貨幣與區塊鏈原理

## Digital signature 數位簽章

數位簽章跟一般紙筆簽名的目的相同，都是為了確保每筆交易（transaction） 都是經過當事人的同意，沒有被偽造的。

但一般的電子簽名在電腦上，任何形式的簽名，他背後都可以轉換成一組 0/1，導致可以被輕易偽造，所以我們需要密碼學來幫助提高安全性。

由區塊鏈技術當中的 Digital signature 的實現，會讓每個使用者都產生自己的 「私鑰」及「公鑰」。

- Secrete Key (SK)：要自己收好，不可以洩漏的鑰匙
- Public Key (PK)：可以公開

每個交易的簽名都是由「交易內容」及「私鑰」所產生的。而且是長達 256 bits (256 位數的 0/1) 組成。

`sign(Message, SK) = signature`

因此，若有人想要偽造，就不可能直接複製先前交易的簽名，所以可以說，在私鑰沒有洩漏的前提下，簽名就不會是被惡意的第三方偽造的。

而公鑰的作用在於驗證簽名正確性時會用到，他的作用是告訴我們這個簽名是由一個與之配對的私鑰所產生的。

`verify(Message, signature, PK) = T/F`

因為簽名的可能性實在太多了，假設他不可能亂槍打鳥試出來，因此幾乎可以確定，如果你不知道私鑰是不會得到 True 的驗證，所以這個簽名幾乎可以確定是由私鑰產生的

而為了確保交易是獨立的，而不是被複製好幾份一樣的當成不同筆交易，每筆交易都會有自己的雜湊值，也會需要新的簽名。另外交易如果沒有足夠的餘額也會視同無效，就跟沒簽名一樣。

## Decentralization 去中心化

不相信第三方的情況下，我們不想要把這套賬本系統 host 在某網站上，因為總是有人（或組織）去管理他，他就有可能干涉交易的 protocol

去中心化的概念是讓所有人都有一份賬本，並用一些技術去保證每個人手上的帳本內容，如交易順序都相同。

## Block chain 區塊鏈：Proof of work 工作量證明與挖礦

以比特幣來說他使用的方法是去相信消耗最多計算資源的那份賬本，主要用到的工具是 cryptographic hash function 加密雜湊函式

加密雜湊函式的會由內容去產生一固定長度的雜湊值（如 sha-256 產出 256 bits），且特性是，單向性不可回推內容、幾乎看不出規律的。

所以找出雜湊值與原始值對應的人，他一定是經過了大量的計算，這稱作 proof of work，這個計算就叫做挖礦。

這些帳本（一份或多份，這就是 block）是一個 block，會有前一個 block 的 proof of work （一個雜湊值），以確保順序正確。因為如果你要改變順序，就必須把後面所有的 block 的 hash 都重新計算過一遍，這工作量非常大，幾乎不可能有人會做

這就是 block chain，世界上每個人都可以有自己的那份帳本，同時會聽現在有沒有新的 block 要加入。

## 加密貨幣與區塊鏈的關係

區塊鏈的結構決定   加密貨幣如何被交易及交易資料如何被記錄在區塊中

所以，區塊鏈是一種「技術」，他可以用來實現各種應用，而虛擬貨幣是其中一種
